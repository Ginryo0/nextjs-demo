{"ast":null,"code":"import { MongoClient } from 'mongodb'; // /api/new-meetup\n// POST /api/new-meetup\n// API routes -> don't return HTML -> accept data, store them in DB\n// code entered here will never end in client side\n\nexport default async function handler(req, res) {\n  if (req.method === 'POST') {\n    const data = req.body; // const { title, image, description, address } = data;\n\n    const client = await MongoClient.connect('mongodb+srv://ginryo:nYLu5PhiBEiEWxOP@cluster0.spv0bgt.mongodb.net/meetups?retryWrites=true&w=majority');\n    const db = client.db();\n    const meetupsCollection = db.collection('meetups');\n    const result = await meetupsCollection.insertOne(data); // console.log(result);\n\n    client.close();\n    res.status(201).json({\n      message: 'meetup inserted'\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module"}